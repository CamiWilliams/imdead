{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _emitter = require(\"../emitter\");\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar playSubscription = void 0,\n    winSubscription = void 0;\nexports.default = {\n  enable: function enable() {\n    if (_ExecutionEnvironment.canUseDOM) {\n      if (typeof mixpanel === \"undefined\") {\n        var error = new Error(\"React A/B Test Mixpanel Helper: 'mixpanel' global is not defined.\");\n        error.type = \"PUSHTELL_HELPER_MISSING_GLOBAL\";\n        throw error;\n      }\n\n      playSubscription = _emitter2.default.addPlayListener(function (experimentName, variantName) {\n        mixpanel.track(\"Experiment Play\", {\n          \"Experiment\": experimentName,\n          \"Variant\": variantName\n        }, function () {\n          _emitter2.default.emit(\"mixpanel-play\", experimentName, variantName);\n        });\n      });\n      winSubscription = _emitter2.default.addWinListener(function (experimentName, variantName) {\n        mixpanel.track(\"Experiment Win\", {\n          \"Experiment\": experimentName,\n          \"Variant\": variantName\n        }, function () {\n          _emitter2.default.emit(\"mixpanel-win\", experimentName, variantName);\n        });\n      });\n    }\n  },\n  disable: function disable() {\n    if (_ExecutionEnvironment.canUseDOM) {\n      if (!playSubscription || !winSubscription) {\n        var error = new Error(\"React A/B Test Mixpanel Helper: Helper was not enabled.\");\n        error.type = \"PUSHTELL_HELPER_INVALID_DISABLE\";\n        throw error;\n      }\n\n      playSubscription.remove();\n      winSubscription.remove();\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"script"}